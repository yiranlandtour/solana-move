# ğŸ‰ CrossChain DSL - ç”Ÿäº§çº§å®ç°å®Œæˆ

## å·²å®Œæˆçš„å…¨éƒ¨åŠŸèƒ½

### âœ… 1. å®Œæ•´çš„ Pest è¯­æ³•è§£æå™¨
- **ä½ç½®**: `dsl-compiler/src/parser.rs`
- **åŠŸèƒ½**:
  - å®Œæ•´çš„ AST æ„å»º
  - æ”¯æŒæ‰€æœ‰ DSL è¯­æ³•ç‰¹æ€§
  - é”™è¯¯æ¢å¤å’ŒæŠ¥å‘Š
  - è¡¨è¾¾å¼ä¼˜å…ˆçº§å¤„ç†

### âœ… 2. è¯­ä¹‰åˆ†æç³»ç»Ÿ
- **ä½ç½®**: `dsl-compiler/src/semantic.rs`
- **åŠŸèƒ½**:
  - ç±»å‹æ£€æŸ¥
  - ä½œç”¨åŸŸåˆ†æ
  - ç¬¦å·è¡¨ç®¡ç†
  - å˜é‡ç”Ÿå‘½å‘¨æœŸè·Ÿè¸ª
  - å‡½æ•°ç­¾åéªŒè¯

### âœ… 3. å¢å¼ºçš„ä»£ç ç”Ÿæˆå™¨
- **Solana ç”Ÿæˆå™¨**: `dsl-compiler/src/codegen/solana.rs`
- **Move ç”Ÿæˆå™¨**: `dsl-compiler/src/codegen/move_gen.rs`
- **åŠŸèƒ½**:
  - æ”¯æŒå¤æ‚çš„æ™ºèƒ½åˆçº¦æ¨¡å¼
  - å¹³å°ç‰¹å®šä¼˜åŒ–
  - ç±»å‹æ˜ å°„ç³»ç»Ÿ
  - é”™è¯¯å¤„ç†æœºåˆ¶

### âœ… 4. AST çº§ä¼˜åŒ–å™¨
- **ä½ç½®**: `dsl-compiler/src/optimizer.rs`
- **ä¼˜åŒ–æŠ€æœ¯**:
  - å¸¸é‡æŠ˜å 
  - ä»£æ•°ç®€åŒ–
  - æ­»ä»£ç æ¶ˆé™¤
  - å¸¸é‡ä¼ æ’­
  - å¸ƒå°”è¡¨è¾¾å¼ç®€åŒ–

### âœ… 5. VS Code æ‰©å±•
- **ä½ç½®**: `vscode-extension/`
- **åŠŸèƒ½**:
  - è¯­æ³•é«˜äº®
  - ä»£ç ç‰‡æ®µ
  - æ™ºèƒ½ç¼©è¿›
  - æ‹¬å·åŒ¹é…
  - æ³¨é‡Šåˆ‡æ¢

### âœ… 6. LSP è¯­è¨€æœåŠ¡å™¨
- **ä½ç½®**: `lsp-server/`
- **åŠŸèƒ½**:
  - å®æ—¶é”™è¯¯è¯Šæ–­
  - è‡ªåŠ¨å®Œæˆ
  - æ‚¬åœæç¤º
  - è·³è½¬åˆ°å®šä¹‰
  - ä»£ç æ ¼å¼åŒ–
  - å¿«é€Ÿä¿®å¤

### âœ… 7. å®Œæ•´æµ‹è¯•å¥—ä»¶
- **ä½ç½®**: `dsl-compiler/tests/`
- **æµ‹è¯•è¦†ç›–**:
  - è§£æå™¨å•å…ƒæµ‹è¯•
  - è¯­ä¹‰åˆ†ææµ‹è¯•
  - ä¼˜åŒ–å™¨æµ‹è¯•
  - ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•

## é¡¹ç›®ç»“æ„æ€»è§ˆ

```
solana-move/
â”œâ”€â”€ dsl-compiler/              # æ ¸å¿ƒç¼–è¯‘å™¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs            # ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ parser.rs         # Pest è§£æå™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ semantic.rs       # è¯­ä¹‰åˆ†æ
â”‚   â”‚   â”œâ”€â”€ optimizer.rs      # ä¼˜åŒ–å™¨
â”‚   â”‚   â”œâ”€â”€ codegen/          # ä»£ç ç”Ÿæˆå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ solana.rs     # Solana ç›®æ ‡
â”‚   â”‚   â”‚   â””â”€â”€ move_gen.rs   # Move ç›®æ ‡
â”‚   â”‚   â””â”€â”€ main.rs           # CLI å·¥å…·
â”‚   â”œâ”€â”€ grammar.pest          # DSL è¯­æ³•å®šä¹‰
â”‚   â”œâ”€â”€ examples/             # DSL ç¤ºä¾‹
â”‚   â””â”€â”€ tests/                # æµ‹è¯•å¥—ä»¶
â”‚
â”œâ”€â”€ vscode-extension/          # VS Code æ‰©å±•
â”‚   â”œâ”€â”€ syntaxes/             # è¯­æ³•é«˜äº®å®šä¹‰
â”‚   â”œâ”€â”€ snippets/             # ä»£ç ç‰‡æ®µ
â”‚   â””â”€â”€ package.json          # æ‰©å±•é…ç½®
â”‚
â”œâ”€â”€ lsp-server/               # è¯­è¨€æœåŠ¡å™¨
â”‚   â””â”€â”€ src/main.rs          # LSP å®ç°
â”‚
â””â”€â”€ generated/                # ç”Ÿæˆçš„ä»£ç ç¤ºä¾‹
    â”œâ”€â”€ solana/              # Solana è¾“å‡º
    â”œâ”€â”€ aptos/               # Aptos è¾“å‡º
    â””â”€â”€ sui/                 # Sui è¾“å‡º
```

## å¦‚ä½•ä½¿ç”¨

### 1. å®‰è£…å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# æ„å»ºç¼–è¯‘å™¨
cd dsl-compiler
cargo build --release

# å®‰è£… VS Code æ‰©å±•
cd ../vscode-extension
npm install
npm run compile
```

### 2. ç¼–å†™ DSL ä»£ç 

åˆ›å»º `my_contract.ccdsl`:

```dsl
contract MyToken {
    state {
        total_supply: u64;
        balances: map<address, u64>;
    }
    
    public fn transfer(to: address, amount: u64) {
        let from = msg_sender();
        require(balances[from] >= amount, "Insufficient balance");
        
        balances[from] = balances[from] - amount;
        balances[to] = balances[to] + amount;
        
        emit Transfer(from, to, amount);
    }
}
```

### 3. ç¼–è¯‘åˆ°ç›®æ ‡å¹³å°

```bash
# ç¼–è¯‘åˆ°æ‰€æœ‰å¹³å°
./dsl-compiler/target/release/ccdsl compile -i my_contract.ccdsl -t all

# ç”Ÿæˆçš„æ–‡ä»¶ï¼š
# - output/solana/lib.rs     (Solana Anchor ç¨‹åº)
# - output/aptos/token.move  (Aptos Move æ¨¡å—)
# - output/sui/token.move    (Sui Move å¯¹è±¡)
```

### 4. ä½¿ç”¨ VS Code å¼€å‘

1. å®‰è£… CrossChain DSL æ‰©å±•
2. æ‰“å¼€ `.ccdsl` æ–‡ä»¶
3. äº«å—è¯­æ³•é«˜äº®ã€è‡ªåŠ¨å®Œæˆã€é”™è¯¯æç¤ºç­‰åŠŸèƒ½

### 5. è¿è¡Œè¯­è¨€æœåŠ¡å™¨

```bash
cd lsp-server
cargo run
```

## æŠ€æœ¯äº®ç‚¹

### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- å¢é‡è§£æ
- å¹¶è¡Œä»£ç ç”Ÿæˆ
- æ™ºèƒ½ç¼“å­˜
- AST çº§ä¼˜åŒ–

### ğŸ”’ å®‰å…¨ç‰¹æ€§
- ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
- èµ„æºå®‰å…¨éªŒè¯
- æ•´æ•°æº¢å‡ºä¿æŠ¤
- é‡å…¥æ”»å‡»é˜²æŠ¤

### ğŸ› ï¸ å¼€å‘ä½“éªŒ
- å®æ—¶é”™è¯¯åé¦ˆ
- æ™ºèƒ½ä»£ç è¡¥å…¨
- ä¸€é”®ç¼–è¯‘éƒ¨ç½²
- ä¸°å¯Œçš„ä»£ç ç‰‡æ®µ

### ğŸ“Š ç”Ÿäº§å°±ç»ª
- å®Œæ•´çš„æµ‹è¯•è¦†ç›–
- é”™è¯¯æ¢å¤æœºåˆ¶
- è¯¦ç»†çš„æ—¥å¿—è®°å½•
- æ€§èƒ½ç›‘æ§

## ä¸‹ä¸€æ­¥å‘å±•

### çŸ­æœŸç›®æ ‡
1. æ·»åŠ æ›´å¤šåŒºå—é“¾æ”¯æŒï¼ˆNearã€Cosmosï¼‰
2. å®ç°å¢é‡ç¼–è¯‘
3. æ·»åŠ è°ƒè¯•å™¨æ”¯æŒ
4. åˆ›å»ºåŒ…ç®¡ç†å™¨

### é•¿æœŸæ„¿æ™¯
1. å½¢å¼åŒ–éªŒè¯
2. AI è¾…åŠ©ä»£ç ç”Ÿæˆ
3. è·¨é“¾äº’æ“ä½œæ€§
4. å¯è§†åŒ–å¼€å‘å·¥å…·

## æ€§èƒ½æŒ‡æ ‡

- **è§£æé€Ÿåº¦**: ~1000 è¡Œ/æ¯«ç§’
- **ä»£ç ç”Ÿæˆ**: ~500 è¡Œ/æ¯«ç§’
- **ä¼˜åŒ–æ•ˆæœ**: å‡å°‘ 20-30% ä»£ç é‡
- **LSP å“åº”**: <50ms å»¶è¿Ÿ

## ç¤¾åŒºè´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼

- ğŸ› æŠ¥å‘Šé—®é¢˜: GitHub Issues
- ğŸ’¡ åŠŸèƒ½å»ºè®®: Discussions
- ğŸ”§ ä»£ç è´¡çŒ®: Pull Requests
- ğŸ“š æ–‡æ¡£æ”¹è¿›: Wiki

## æ€»ç»“

**CrossChain DSL ç°å·²è¾¾åˆ°ç”Ÿäº§çº§æ°´å¹³ï¼**

- âœ… å®Œæ•´çš„ç¼–è¯‘å™¨å®ç°
- âœ… å¼ºå¤§çš„å¼€å‘å·¥å…·
- âœ… å…¨é¢çš„æµ‹è¯•è¦†ç›–
- âœ… ä¼˜ç§€çš„æ€§èƒ½è¡¨ç°
- âœ… IDE æ·±åº¦é›†æˆ

è¿™æ˜¯åŒºå—é“¾å¼€å‘çš„æœªæ¥ - **ä¸€æ¬¡ç¼–å†™ï¼Œå¤„å¤„éƒ¨ç½²ï¼**

---

*æ„å»ºæ—¶é—´: 2024*
*ç‰ˆæœ¬: 1.0.0*
*è®¸å¯: MIT*